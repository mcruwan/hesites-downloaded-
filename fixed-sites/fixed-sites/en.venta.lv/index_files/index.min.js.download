!function(){"use strict";function e(e,t,n,r){return new(n||(n=Promise))((function(o,i){function a(e){try{l(r.next(e))}catch(e){i(e)}}function s(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((r=r.apply(e,t||[])).next())}))}var t,n;"function"==typeof SuppressedError&&SuppressedError,function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.INIT=1]="INIT",e[e.CLICK=2]="CLICK",e[e.MAX_SCROLL=5]="MAX_SCROLL",e[e.HEART_BEAT=7]="HEART_BEAT",e[e.CHANGE=8]="CHANGE",e[e.VISIBILITY_CHANGE_GONE=12]="VISIBILITY_CHANGE_GONE",e[e.VISIBILITY_CHANGE_GAINED=13]="VISIBILITY_CHANGE_GAINED",e[e.HOVER=16]="HOVER",e[e.CUSTOM_EVENT=17]="CUSTOM_EVENT",e[e.FORM_SUBMIT=19]="FORM_SUBMIT",e[e.RAGE_CLICK=21]="RAGE_CLICK",e[e.REPLAY_STARTED=22]="REPLAY_STARTED",e[e.FEEDBACK=23]="FEEDBACK",e[e.IDENTIFY=24]="IDENTIFY"}(t||(t={})),function(e){e.ADVANCED="ADVANCED",e.CONSENT_LESS="CONSENT_LESS"}(n||(n={}));const r=()=>{let e=window.location.pathname;return e.endsWith("/")&&(e=e.slice(0,-1)),(e||"/")+window.location.hash.toLocaleLowerCase()},o=()=>{var e;let t=(null===(e=decodeURIComponent(window.location.search))||void 0===e?void 0:e.toLocaleLowerCase().replace("??","?"))||"?";return"?"===t[0]&&(t=t.replace("?","")),"?"+t.split("?").join("&")};var i=Uint8Array,a=Uint16Array,s=Int32Array,l=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),c=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),d=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),u=function(e,t){for(var n=new a(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var o=new s(n[30]);for(r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)o[i]=i-n[r]<<5|r;return{b:n,r:o}},p=u(l,2),m=p.b,v=p.r;m[28]=258,v[258]=28;for(var f=u(c,0).r,h=new a(32768),g=0;g<32768;++g){var y=(43690&g)>>1|(21845&g)<<1;y=(61680&(y=(52428&y)>>2|(13107&y)<<2))>>4|(3855&y)<<4,h[g]=((65280&y)>>8|(255&y)<<8)>>1}var w=function(e,t,n){for(var r=e.length,o=0,i=new a(t);o<r;++o)e[o]&&++i[e[o]-1];var s,l=new a(t);for(o=1;o<t;++o)l[o]=l[o-1]+i[o-1]<<1;if(n){s=new a(1<<t);var c=15-t;for(o=0;o<r;++o)if(e[o])for(var d=o<<4|e[o],u=t-e[o],p=l[e[o]-1]++<<u,m=p|(1<<u)-1;p<=m;++p)s[h[p]>>c]=d}else for(s=new a(r),o=0;o<r;++o)e[o]&&(s[o]=h[l[e[o]-1]++]>>15-e[o]);return s},b=new i(288);for(g=0;g<144;++g)b[g]=8;for(g=144;g<256;++g)b[g]=9;for(g=256;g<280;++g)b[g]=7;for(g=280;g<288;++g)b[g]=8;var _=new i(32);for(g=0;g<32;++g)_[g]=5;var k=w(b,9,0),C=w(_,5,0),x=function(e){return(e+7)/8|0},E=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},S=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},L=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var o=n.length,s=n.slice();if(!o)return{t:O,l:0};if(1==o){var l=new i(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort((function(e,t){return e.f-t.f})),n.push({s:-1,f:25001});var c=n[0],d=n[1],u=0,p=1,m=2;for(n[0]={s:-1,f:c.f+d.f,l:c,r:d};p!=o-1;)c=n[n[u].f<n[m].f?u++:m++],d=n[u!=p&&n[u].f<n[m].f?u++:m++],n[p++]={s:-1,f:c.f+d.f,l:c,r:d};var v=s[0].s;for(r=1;r<o;++r)s[r].s>v&&(v=s[r].s);var f=new a(v+1),h=T(n[p-1],f,0);if(h>t){r=0;var g=0,y=h-t,w=1<<y;for(s.sort((function(e,t){return f[t.s]-f[e.s]||e.f-t.f}));r<o;++r){var b=s[r].s;if(!(f[b]>t))break;g+=w-(1<<h-f[b]),f[b]=t}for(g>>=y;g>0;){var _=s[r].s;f[_]<t?g-=1<<t-f[_]++-1:++r}for(;r>=0&&g;--r){var k=s[r].s;f[k]==t&&(--f[k],++g)}h=t}return{t:new i(f),l:h}},T=function(e,t,n){return-1==e.s?Math.max(T(e.l,t,n+1),T(e.r,t,n+1)):t[e.s]=n},I=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new a(++t),r=0,o=e[0],i=1,s=function(e){n[r++]=e},l=1;l<=t;++l)if(e[l]==o&&l!=t)++i;else{if(!o&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(o),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(o);i=1,o=e[l]}return{c:n.subarray(0,r),n:t}},N=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},M=function(e,t,n){var r=n.length,o=x(t+2);e[o]=255&r,e[o+1]=r>>8,e[o+2]=255^e[o],e[o+3]=255^e[o+1];for(var i=0;i<r;++i)e[o+i+4]=n[i];return 8*(o+4+r)},D=function(e,t,n,r,o,i,s,u,p,m,v){E(t,v++,n),++o[256];for(var f=L(o,15),h=f.t,g=f.l,y=L(i,15),x=y.t,T=y.l,D=I(h),A=D.c,O=D.n,R=I(x),H=R.c,F=R.n,j=new a(19),B=0;B<A.length;++B)++j[31&A[B]];for(B=0;B<H.length;++B)++j[31&H[B]];for(var U=L(j,7),G=U.t,z=U.l,W=19;W>4&&!G[d[W-1]];--W);var V,P,Y,q,K=m+5<<3,Z=N(o,b)+N(i,_)+s,J=N(o,h)+N(i,x)+s+14+3*W+N(j,G)+2*j[16]+3*j[17]+7*j[18];if(p>=0&&K<=Z&&K<=J)return M(t,v,e.subarray(p,p+m));if(E(t,v,1+(J<Z)),v+=2,J<Z){V=w(h,g,0),P=h,Y=w(x,T,0),q=x;var X=w(G,z,0);E(t,v,O-257),E(t,v+5,F-1),E(t,v+10,W-4),v+=14;for(B=0;B<W;++B)E(t,v+3*B,G[d[B]]);v+=3*W;for(var $=[A,H],Q=0;Q<2;++Q){var ee=$[Q];for(B=0;B<ee.length;++B){var te=31&ee[B];E(t,v,X[te]),v+=G[te],te>15&&(E(t,v,ee[B]>>5&127),v+=ee[B]>>12)}}}else V=k,P=b,Y=C,q=_;for(B=0;B<u;++B){var ne=r[B];if(ne>255){S(t,v,V[(te=ne>>18&31)+257]),v+=P[te+257],te>7&&(E(t,v,ne>>23&31),v+=l[te]);var re=31&ne;S(t,v,Y[re]),v+=q[re],re>3&&(S(t,v,ne>>5&8191),v+=c[re])}else S(t,v,V[ne]),v+=P[ne]}return S(t,v,V[256]),v+P[256]},A=new s([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),O=new i(0),R=function(e,t,n,r,o,d){var u=d.z||e.length,p=new i(r+u+5*(1+Math.ceil(u/7e3))+o),m=p.subarray(r,p.length-o),h=d.l,g=7&(d.r||0);if(t){g&&(m[0]=d.r>>3);for(var y=A[t-1],w=y>>13,b=8191&y,_=(1<<n)-1,k=d.p||new a(32768),C=d.h||new a(_+1),E=Math.ceil(n/3),S=2*E,L=function(t){return(e[t]^e[t+1]<<E^e[t+2]<<S)&_},T=new s(25e3),I=new a(288),N=new a(32),O=0,R=0,H=d.i||0,F=0,j=d.w||0,B=0;H+2<u;++H){var U=L(H),G=32767&H,z=C[U];if(k[G]=z,C[U]=G,j<=H){var W=u-H;if((O>7e3||F>24576)&&(W>423||!h)){g=D(e,m,0,T,I,N,R,F,B,H-B,g),F=O=R=0,B=H;for(var V=0;V<286;++V)I[V]=0;for(V=0;V<30;++V)N[V]=0}var P=2,Y=0,q=b,K=G-z&32767;if(W>2&&U==L(H-K))for(var Z=Math.min(w,W)-1,J=Math.min(32767,H),X=Math.min(258,W);K<=J&&--q&&G!=z;){if(e[H+P]==e[H+P-K]){for(var $=0;$<X&&e[H+$]==e[H+$-K];++$);if($>P){if(P=$,Y=K,$>Z)break;var Q=Math.min(K,$-2),ee=0;for(V=0;V<Q;++V){var te=H-K+V&32767,ne=te-k[te]&32767;ne>ee&&(ee=ne,z=te)}}}K+=(G=z)-(z=k[G])&32767}if(Y){T[F++]=268435456|v[P]<<18|f[Y];var re=31&v[P],oe=31&f[Y];R+=l[re]+c[oe],++I[257+re],++N[oe],j=H+P,++O}else T[F++]=e[H],++I[e[H]]}}for(H=Math.max(H,j);H<u;++H)T[F++]=e[H],++I[e[H]];g=D(e,m,h,T,I,N,R,F,B,H-B,g),h||(d.r=7&g|m[g/8|0]<<3,g-=7,d.h=C,d.p=k,d.i=H,d.w=j)}else{for(H=d.w||0;H<u+h;H+=65535){var ie=H+65535;ie>=u&&(m[g/8|0]=h,ie=u),g=M(m,g+1,e.subarray(H,ie))}d.i=u}return function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new i(e.subarray(t,n))}(p,0,r+x(g)+o)};function H(e,t){return function(e,t,n,r,o){if(!o&&(o={l:1},t.dictionary)){var a=t.dictionary.subarray(-32768),s=new i(a.length+e.length);s.set(a),s.set(e,a.length),e=s,o.w=a.length}return R(e,null==t.level?6:t.level,null==t.mem?o.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,o)}(e,t||{},0,0)}var F="undefined"!=typeof TextDecoder&&new TextDecoder;try{F.decode(O,{stream:!0}),1}catch(ve){}var j=()=>{let e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},B=e=>{try{const t=H((new TextEncoder).encode(e),{level:3});let n="";for(let e=0;e<t.length;e++)n+=String.fromCharCode(t[e]);return btoa(n)}catch(e){throw console.error("Compression error:",e),e}};var U=()=>e(void 0,void 0,void 0,(function*(){const e={userAgent:navigator.userAgent,language:navigator.language,languages:navigator.languages,buildId:navigator.buildID||"",productSub:navigator.productSub,maxTouchPoints:navigator.maxTouchPoints||0,webGLVendor:void 0,webGLRenderer:void 0,colorDepth:screen.colorDepth,deviceMemory:navigator.deviceMemory||0,hardwareConcurrency:navigator.hardwareConcurrency,availableScreenResolution:`${screen.availWidth}x${screen.availHeight}`,timezoneOffset:(new Date).getTimezoneOffset(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,canvas:void 0},t=document.createElement("canvas");try{const n=t.getContext("webgl");if(n){const t=n.getExtension("WEBGL_debug_renderer_info");t&&(e.webGLVendor=n.getParameter(t.UNMASKED_VENDOR_WEBGL),e.webGLRenderer=n.getParameter(t.UNMASKED_RENDERER_WEBGL))}}catch(e){}try{const n=t.getContext("2d");if(n){const r="http://www.lalit.org/lab/javascript-css-font-detect/";n.textBaseline="top",n.font="14px 'Arial'",n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",n.fillText(r,2,15),n.fillStyle="rgba(102, 204, 0, 0.7)",n.fillText(r,4,17),e.canvas=t.toDataURL()}}catch(e){}return JSON.stringify(e)}));const G="https://web.sitebehaviour.com",z="https://event-store.sitebehaviour.com",W="https://api-server.sitebehaviour.com/api/v1/heatmap/capture";let V,P=!1;const Y=()=>e(void 0,void 0,void 0,(function*(){const t=document.createElement("script");t.src="https://sitebehaviour-cdn.fra1.cdn.digitaloceanspaces.com/replay-script.js",t.defer=!0,document.head.appendChild(t),t.onload=()=>e(void 0,void 0,void 0,(function*(){yield window.rrweb.record({emit:e=>{e&&me(e)},maskTextSelector:"*",maskAllInputs:!0,mousemoveWait:900,slimDOMOptions:{comment:!0,headFavicon:!0,headMetaAuthorship:!0,headMetaDescKeywords:!0,headMetaHttpEquiv:!0,headMetaRobots:!0,headMetaSocial:!0,script:!0,headMetaVerification:!0,headWhitespace:!0,headTitleMutations:!0},sampling:{input:"last",scroll:150},maskTextFn:e=>"string"==typeof e?(e=>{try{const t=e.trim();return!t||!(t.length<=345&&t.includes("@")&&t.includes("."))}catch(e){return!1}})(e.trim())?e.replace(/[0-9]/g,"*"):e.replace(/./g,"*"):e})}))})),q=()=>e(void 0,void 0,void 0,(function*(){!!window.__lighthouseMode||!!navigator.userAgent.includes("Lighthouse")||P||("complete"===document.readyState||"interactive"===document.readyState?yield Y():window.addEventListener("DOMContentLoaded",(()=>e(void 0,void 0,void 0,(function*(){return yield Y()})))),P=!0)}));let K="",Z="",J="",X=Date.now(),$=null,Q=n.CONSENT_LESS,ee=!1,te=!0,ne=!1,re=!1,oe="",ie="";const ae=()=>!!K&&(null!=$&&(!!J&&!!Z)),se=()=>e(void 0,void 0,void 0,(function*(){try{let e="";ae()||(e=yield U());const t=yield fetch(`${z}/tracker/init`,{method:"POST",headers:{"Content-Type":"application/json","x-client-id":K||""},body:JSON.stringify({browserSettings:e?JSON.stringify(e):"",session_id:Z,user_id:J,events:_e(),replayEvents:[]})}),r=yield t.json();if(!r)throw new Error("Failed to fetch settings");if(!r.allow_visit)return document.removeEventListener("click",Te),document.removeEventListener("input",Ne),window.removeEventListener("visibilitychange",Ce,!1),clearInterval(V),void(te=!1);r.allow_replay&&q(),ee=!!r.allow_custom_event,null===$&&($=!!r.allow_replay),Q=r.tracking_type,Z=r.session_id,J=r.user_id,re=r.allow_feedback,oe=r.feedback_label,ie=r.feedback_primary_color,ne=r.track_identity,window.sessionStorage.setItem("siteBehaviour_session_id_v1",JSON.stringify({session_id:r.session_id,consume_session_replay_data:null===$?r.allow_replay:$,user_id:r.user_id,tracking_type:r.tracking_type,session_start:X,allow_custom_event:r.allow_custom_event,allow_visit:r.allow_visit,track_identity:r.track_identity,allow_feedback:r.allow_feedback,feedback_label:r.feedback_label,feedback_primary_color:r.feedback_primary_color})),r.tracking_type===n.ADVANCED&&localStorage.setItem("user_id",r.user_id)}catch(e){return console.error(e),!1}}));var le=()=>e(void 0,void 0,void 0,(function*(){(()=>{const e=localStorage.getItem("user_id")||"";e&&(J=e);const t=window.sessionStorage.getItem("siteBehaviour_session_id_v1")||"";if(!t)return!1;const r=JSON.parse(t);r.user_id&&(J=r.user_id,r.tracking_type===n.ADVANCED&&localStorage.setItem("user_id",r.user_id)),r.session_id&&(Z=r.session_id),r.tracking_type&&(Q=r.tracking_type),X=r.session_start||X||Date.now(),$=r.consume_session_replay_data,ee=!!r.allow_custom_event,te=r.allow_visit,ne=r.track_identity,re=r.allow_feedback,oe=r.feedback_label,ie=r.feedback_primary_color})(),$&&q(),yield se()})),ce=e=>K=e;let de=[],ue=[];const pe=e=>{de.push(e)},me=e=>{if(!(te&&$&&e))return!1;ue.push(e)};function ve(){return(ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var fe={ignoreId:!1},he="undefined"!=typeof Node,ge=he?Node.ELEMENT_NODE:1,ye=he?Node.TEXT_NODE:3,we=he?Node.DOCUMENT_TYPE_NODE:10;function be(e,t){var n=ve({},fe,t),r=e;if(r&&r.id&&!n.ignoreId)return'//*[@id="'+r.id+'"]';for(var o=[];r&&(ge===r.nodeType||ye===r.nodeType);){for(var i=0,a=!1,s=r.previousSibling;s;)s.nodeType!==we&&s.nodeName===r.nodeName&&i++,s=s.previousSibling;for(s=r.nextSibling;s;){if(s.nodeName===r.nodeName){a=!0;break}s=s.nextSibling}var l=i||a?"["+(i+1)+"]":"";o.push(r.nodeType!=ye?(r.prefix?r.prefix+":":"")+r.localName+l:"text()"+(l||"[1]")),r=r.parentNode}return o.length?"/"+o.reverse().join("/"):""}t.INIT;const _e=()=>{var e;return{b_event_id:j(),event_type:t.INIT,precise_time_stamp:performance.now(),time_stamp:Date.now(),first_time_stamp:X,control_type:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?"TOUCH":"MOUSE",available_screen_width:screen.availWidth,available_screen_height:screen.availHeight,screen_height:window.innerHeight,screen_width:window.innerWidth,scroll_height:document.documentElement.scrollHeight,scroll_width:document.documentElement.scrollWidth,url:r(),query:o()||(null===(e=window.location.search)||void 0===e?void 0:e.toLowerCase())||"",refer:document.referrer,scroll_x:window.scrollX,scroll_y:window.scrollY,timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,user_agent:navigator.userAgent}},ke=()=>{t.INIT,pe(_e())},Ce=()=>{var e;"visible"===document.visibilityState?t.VISIBILITY_CHANGE_GAINED:t.VISIBILITY_CHANGE_GONE;const n="visible"===document.visibilityState?t.VISIBILITY_CHANGE_GAINED:t.VISIBILITY_CHANGE_GONE,i={b_event_id:j(),event_type:n,first_time_stamp:X,time_stamp:Date.now(),precise_time_stamp:performance.now(),url:r(),query:o()||(null===(e=window.location.search)||void 0===e?void 0:e.toLowerCase())||""};navigator.sendBeacon&&(J&&Z?navigator.sendBeacon(`${z}/tracker/throw`,JSON.stringify({clientId:K,user_id:J,session_id:Z,events:[i]})):pe(i))};let xe=0,Ee=0,Se=null,Le={element:null,timeStamp:0,hierarchy:""};const Te=e=>{var n,i,a,s,l,c,d,u,p,m,v;t.CLICK;const f=performance.now(),h=Date.now();let g=(null===(n=e.target.innerText)||void 0===n?void 0:n.toLowerCase())||"";g||"input"===(null===(a=null===(i=e.target)||void 0===i?void 0:i.tagName)||void 0===a?void 0:a.toLowerCase())&&"submit"===(null===(l=null===(s=e.target)||void 0===s?void 0:s.type)||void 0===l?void 0:l.toLowerCase())&&(g=(null===(d=null===(c=e.target)||void 0===c?void 0:c.value)||void 0===d?void 0:d.toLowerCase())||"");const y=null===(u=e.target)||void 0===u?void 0:u.getBoundingClientRect(),w=(null==y?void 0:y.width)||0,b=(null==y?void 0:y.height)||0,_=e.clientX-y.left,k=e.clientY-y.top;let C="";Le.element===e.target&&h-Le.timeStamp<400||(Le={element:e.target,timeStamp:h,hierarchy:be(e.target)}),C=Le.hierarchy;let x=e.target.id||"";const E={b_event_id:j(),event_type:t.CLICK,precise_time_stamp:f,first_time_stamp:X,time_stamp:h,url:r(),query:o()||(null===(p=window.location.search)||void 0===p?void 0:p.toLowerCase())||"",elem_id:x||"",click_page_x:e.pageX,click_page_y:e.pageY,click_screen_x:e.clientX,click_screen_y:e.clientY,elem_x:_||-1,elem_y:k||-1,elem_height:b||-1,elem_width:w||-1,hierarchy:C,dom_type:(null===(v=null===(m=e.target)||void 0===m?void 0:m.tagName)||void 0===v?void 0:v.toLowerCase())||"--",dom_text:(g.length>100?g.substring(0,100)+"...":g||"").trim().replace(/(\r\n|\n|\r)/gm," "),extra_detail_hierarchy:C};navigator.sendBeacon&&J&&Z?navigator.sendBeacon(`${z}/tracker/throw`,JSON.stringify({clientId:K,user_id:J,session_id:Z,events:[E]})):pe(E),h-xe<=400?(Ee++,Ee>=2&&(clearTimeout(Se),Se=setTimeout((e=>{pe(Object.assign(Object.assign({},e),{b_event_id:j(),event_type:t.RAGE_CLICK}))}),400,E))):Ee=0,xe=h};let Ie=null;const Ne=e=>{var n,i,a,s,l,c,d,u,p;t.CHANGE;const m=performance.now(),v=Date.now(),f=be(e.target),h={b_event_id:j(),event_type:t.CHANGE,first_time_stamp:X,time_stamp:v,precise_time_stamp:m,url:r(),query:o()||(null===(n=window.location.search)||void 0===n?void 0:n.toLowerCase())||"",elem_id:e.target.id||"",elem_name:(null===(i=e.target.name)||void 0===i?void 0:i.toLowerCase())||"",dom_type:(null===(s=null===(a=e.target)||void 0===a?void 0:a.tagName)||void 0===s?void 0:s.toLowerCase())||"",form_name:(null===(c=null===(l=e.target.form)||void 0===l?void 0:l.name)||void 0===c?void 0:c.toLowerCase())||"",hierarchy:f,extra_detail_hierarchy:f},g=(null===(p=null===(u=(null===(d=e.target)||void 0===d?void 0:d.value)||"")||void 0===u?void 0:u.toLowerCase())||void 0===p?void 0:p.trim())||"";Ie&&clearInterval(Ie),Ie=setTimeout(((e,t,n)=>{pe(h)}),1800,h,g,ne)},Me=(e,n)=>{var i,a,s;const l=performance.now(),c=Date.now(),d={b_event_id:j(),event_type:t.CUSTOM_EVENT,first_time_stamp:X,time_stamp:c,precise_time_stamp:l,url:r(),query:o()||(null===(i=window.location.search)||void 0===i?void 0:i.toLowerCase())||"",custom_event_name:(null===(s=null===(a=e||"Unknown")||void 0===a?void 0:a.toLowerCase())||void 0===s?void 0:s.substring(0,100))||""};return pe(d),!0};let De="SUCCESS",Ae=!1;const Oe=()=>{var e,n;const i=$;let a=[];i&&!Ae&&(Ae=!0,a.push({b_event_id:j(),event_type:t.REPLAY_STARTED,precise_time_stamp:performance.now(),time_stamp:Date.now(),first_time_stamp:X,url:r(),query:o()||(null===(n=null===(e=window.location)||void 0===e?void 0:e.search)||void 0===n?void 0:n.toLowerCase())||""}));try{if(0===de.length&&0===ue.length&&0===a.length)return null;const e=i?[...ue]:[],t=[...de];s=de.length,de=de.slice(s),i&&(e=>{ue=ue.slice(e)})(e.length);return{payload:B(JSON.stringify({user_id:J,session_id:Z,events:[...a,...t],replayEvents:i?e:[]})),INCLUDE_REPLAY_DATA_IN_PAYLOAD:i,toSendBaseEvents:t,toSendReplayEvents:e}}catch(e){return null}var s},Re=()=>{setInterval((()=>{((...t)=>{e(void 0,[...t],void 0,(function*(e=!1){if(!ae()||!e&&"PENDING"===De)return!1;if(!te)return!1;const t=Oe();if(!t)return!1;try{if(!(yield fetch(`${z}/tracker/event`,{method:"POST",headers:{"Content-Type":"application/json","x-client-id":K},body:JSON.stringify({payload:t.payload})})).ok)throw"Failed to send events using fetch";return!0}catch(e){return t.toSendBaseEvents.forEach((e=>pe(e))),t.toSendReplayEvents.forEach((e=>me(e))),!1}finally{De="SUCCESS"}}))})()}),1600)},He=()=>{try{if(document.getElementById("sitebehaviour-feedback-root")||!re)return!1;let e="",n=0;const i=document.createElement("div");i.id="sitebehaviour-feedback-root",i.style.cssText="z-index: 9999;position: fixed;right: 0px;text-align: center;display: flex;align-items: start; color: black;",i.style.bottom=document.documentElement.clientHeight/2+60+"px";const a=document.createElement("p");a.style.cssText=`background-color: ${ie};color: black;padding: 5px 8px;font-size: 14.5px;font-weight: 600;border-radius: 8.4px 8.4px 0px 0px;border: 1px solid black;font-family: sans-serif;user-select: none;transform: rotate(270deg);transform-origin: right bottom;cursor: pointer;`,a.innerHTML="Feedback",i.appendChild(a);const s=document.createElement("div");s.style.cssText="padding: 23px 23px 12px 23px;border: 1.5px solid #434343;background: white;border-radius: 14px;font-family: sans-serif;box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);",s.style.display="none",i.appendChild(s);const l=document.createElement("div");l.style.cssText="font-family: Arial;font-weight: 600;box-shadow: 0 0 10px 0 rgba(0, 0, 0, 0.1);position: absolute;top: -32px;right: 10px;cursor: pointer;background-color: #f1f1f1;border: 1.5px solid #696969;border-radius: 13px;padding: 2px 10px 2px 4px;display: flex;align-items: center;gap: 1.5px;color: #323232;font-size: 12px; user-select: none; ",l.innerHTML='<img style="width: 11px;" src="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48IS0tIFVwbG9hZGVkIHRvOiBTVkcgUmVwbywgd3d3LnN2Z3JlcG8uY29tLCBHZW5lcmF0b3I6IFNWRyBSZXBvIE1peGVyIFRvb2xzIC0tPg0KPHN2ZyBmaWxsPSIjMDAwMDAwIiB3aWR0aD0iODAwcHgiIGhlaWdodD0iODAwcHgiIHZpZXdCb3g9IjAgMCAzMiAzMiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCiAgICA8cGF0aCBkPSJNMTguOCwxNmw1LjUtNS41YzAuOC0wLjgsMC44LTIsMC0yLjhsMCwwQzI0LDcuMywyMy41LDcsMjMsN2MtMC41LDAtMSwwLjItMS40LDAuNkwxNiwxMy4ybC01LjUtNS41ICBjLTAuOC0wLjgtMi4xLTAuOC0yLjgsMEM3LjMsOCw3LDguNSw3LDkuMXMwLjIsMSwwLjYsMS40bDUuNSw1LjVsLTUuNSw1LjVDNy4zLDIxLjksNywyMi40LDcsMjNjMCwwLjUsMC4yLDEsMC42LDEuNCAgQzgsMjQuOCw4LjUsMjUsOSwyNWMwLjUsMCwxLTAuMiwxLjQtMC42bDUuNS01LjVsNS41LDUuNWMwLjgsMC44LDIuMSwwLjgsMi44LDBjMC44LTAuOCwwLjgtMi4xLDAtMi44TDE4LjgsMTZ6Ii8+DQo8L3N2Zz4=" alt="cross"/> Close',s.appendChild(l);const c=document.createElement("p");c.innerHTML=oe||"How would you rate your experience?",c.style.cssText="font-family: Arial;text-align: left;font-size: 18px;font-weight: 500;max-width: 310px;line-height: 26px;",s.appendChild(c);const d=document.createElement("div");s.appendChild(d);const u=document.createElement("div");u.style.cssText="display: flex;justify-content: center;align-items: center;margin-top: 18px;border-radius: 10px;overflow: hidden;border: 1px solid #bababa;",d.appendChild(u);const p=document.createElement("div");p.style.cssText="font-size: 20px;font-weight: bold; background-color: #f1f1f1;font-family: 'Arial';border-right: 1.5px solid #bababa;padding: 25px;cursor: pointer;",p.innerHTML="1",p.onmouseover=()=>p.style.backgroundColor="rgba(195, 195, 195, 0.64)",p.onmouseout=()=>p.style.backgroundColor="#f1f1f1",u.appendChild(p);const m=p.cloneNode(!0);m.innerHTML="2",m.onmouseover=()=>m.style.backgroundColor="rgba(195, 195, 195, 0.64)",m.onmouseout=()=>m.style.backgroundColor="#f1f1f1",u.appendChild(m);const v=p.cloneNode(!0);v.innerHTML="3",v.onmouseover=()=>v.style.backgroundColor="rgba(195, 195, 195, 0.64)",v.onmouseout=()=>v.style.backgroundColor="#f1f1f1",u.appendChild(v);const f=p.cloneNode(!0);f.innerHTML="4",f.onmouseover=()=>f.style.backgroundColor="rgba(195, 195, 195, 0.64)",f.onmouseout=()=>f.style.backgroundColor="#f1f1f1",u.appendChild(f);const h=p.cloneNode(!0);h.innerHTML="5",h.style.borderRight="none",h.onmouseover=()=>h.style.backgroundColor="rgba(195, 195, 195, 0.64)",h.onmouseout=()=>h.style.backgroundColor="#f1f1f1",u.appendChild(h);const g=document.createElement("div");g.style.cssText="display: flex;justify-content: space-between;align-items: center;padding: 3px 10px;",g.innerHTML='\n        <p style="margin: 0px">ðŸ‘Ž</p>\n        <p style="margin: 0px">ðŸ¤©</p>\n    ',d.appendChild(g);const y=document.createElement("textarea");y.placeholder="Tell us more about your experience...",y.style.cssText="width: 100%;height: 100px;border: 1.5px solid #a7a7a7;border-radius: 10px;padding: 10px;font-family: Arial;font-size: 16px;resize: none;margin-top: 10px;",y.style.display="none",y.maxLength=1e3,s.appendChild(y);const w=document.createElement("button");w.innerHTML="Send Feedback",w.style.cssText="background-color: #181818;color: white;padding: 10px 22px;border: none;border-radius: 7px;font-family: Arial;font-size: 15px;cursor: pointer;margin-top: 7px;",w.style.display="none",s.appendChild(w),document.body.appendChild(i);const b=document.createElement("div"),_=document.createElement("p");_.style.cssText="font-size: 40px; text-align: center; margin-top: 8px",_.innerHTML="ðŸŽ‰",b.appendChild(_);const k=document.createElement("p");k.style.cssText="font-family: Arial;text-align: left;font-size: 18px;font-weight: bold;max-width: 310px;margin: 0px; padding-bottom: 20px",k.innerHTML="Thank you for your feedback!",b.appendChild(k),b.style.display="none",s.appendChild(b);const C=e=>{y.style.display="block",w.style.display="block",g.style.display="none",n=e;[p,m,v,f,h].forEach(((t,n)=>{t.onmouseover=()=>null,t.onmouseout=()=>null,t.style.backgroundColor=n<e?"#dbdbdb":"white"}))};return l.addEventListener("click",(()=>s.style.display="none")),a.addEventListener("click",(()=>s.style.display="none"===s.style.display?"block":"none")),p.addEventListener("click",(()=>C(1))),m.addEventListener("click",(()=>C(2))),v.addEventListener("click",(()=>C(3))),f.addEventListener("click",(()=>C(4))),h.addEventListener("click",(()=>C(5))),y.addEventListener("change",(t=>{var n;return e=(null===(n=t.target)||void 0===n?void 0:n.value)||""})),w.addEventListener("click",(()=>{n&&(((e,n,i)=>{var a,s;if(!ee)return console.error("Custom events usage exceeded the limit."),!1;const l=performance.now(),c=Date.now(),d={b_event_id:j(),event_type:t.FEEDBACK,first_time_stamp:X,time_stamp:c,precise_time_stamp:l,url:r(),query:o()||(null===(s=null===(a=window.location)||void 0===a?void 0:a.search)||void 0===s?void 0:s.toLowerCase())||"",feedback_id:e,feedback_rating:n,feedback_text:i.substring(0,1e3)};pe(d)})(-1,n,e||""),y.style.display="none",w.style.display="none",g.style.display="none",u.style.display="none",c.style.display="none",b.style.display="block")})),!0}catch(e){return!1}};var Fe;function je(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e)}function Be(e){try{var t=e.rules||e.cssRules;return t?((n=Array.from(t).map(Ue).join("")).includes(" background-clip: text;")&&!n.includes(" -webkit-background-clip: text;")&&(n=n.replace(" background-clip: text;"," -webkit-background-clip: text; background-clip: text;")),n):null}catch(e){return null}var n}function Ue(e){var t=e.cssText;if(function(e){return"styleSheet"in e}(e))try{t=Be(e.styleSheet)||t}catch(e){}return t}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(Fe||(Fe={}));var Ge=function(){function e(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}return e.prototype.getId=function(e){var t;if(!e)return-1;var n=null===(t=this.getMeta(e))||void 0===t?void 0:t.id;return null!=n?n:-1},e.prototype.getNode=function(e){return this.idNodeMap.get(e)||null},e.prototype.getIds=function(){return Array.from(this.idNodeMap.keys())},e.prototype.getMeta=function(e){return this.nodeMetaMap.get(e)||null},e.prototype.removeNodeFromMap=function(e){var t=this,n=this.getId(e);this.idNodeMap.delete(n),e.childNodes&&e.childNodes.forEach((function(e){return t.removeNodeFromMap(e)}))},e.prototype.has=function(e){return this.idNodeMap.has(e)},e.prototype.hasNode=function(e){return this.nodeMetaMap.has(e)},e.prototype.add=function(e,t){var n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t)},e.prototype.replace=function(e,t){var n=this.getNode(e);if(n){var r=this.nodeMetaMap.get(n);r&&this.nodeMetaMap.set(t,r)}this.idNodeMap.set(e,t)},e.prototype.reset=function(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap},e}();var ze="__rrweb_original__";var We,Ve,Pe=1,Ye=new RegExp("[^a-z0-9-_:]"),qe=-2;var Ke=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,Ze=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,Je=/^(data:)([^,]*),(.*)/i;function Xe(e,t){return(e||"").replace(Ke,(function(e,n,r,o,i,a){var s,l=r||i||a,c=n||o||"";if(!l)return e;if(!Ze.test(l))return"url(".concat(c).concat(l).concat(c,")");if(Je.test(l))return"url(".concat(c).concat(l).concat(c,")");if("/"===l[0])return"url(".concat(c).concat((s=t,(s.indexOf("//")>-1?s.split("/").slice(0,3).join("/"):s.split("/")[0]).split("?")[0]+l)).concat(c,")");var d=t.split("/"),u=l.split("/");d.pop();for(var p=0,m=u;p<m.length;p++){var v=m[p];"."!==v&&(".."===v?d.pop():d.push(v))}return"url(".concat(c).concat(d.join("/")).concat(c,")")}))}var $e=/^[^ \t\n\r\u000c]+/,Qe=/^[, \t\n\r\u000c]+/;function et(e,t){if(!t||""===t.trim())return t;var n=e.createElement("a");return n.href=t,n.href}function tt(e){return Boolean("svg"===e.tagName||e.ownerSVGElement)}function nt(){var e=document.createElement("a");return e.href="",e.href}function rt(e,t,n,r){return"src"===n||"href"===n&&r&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&r&&"#"!==r[0]?et(e,r):"background"!==n||!r||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n&&r?function(e,t){if(""===t.trim())return t;var n=0;function r(e){var r,o=e.exec(t.substring(n));return o?(r=o[0],n+=r.length,r):""}for(var o=[];r(Qe),!(n>=t.length);){var i=r($e);if(","===i.slice(-1))i=et(e,i.substring(0,i.length-1)),o.push(i);else{var a="";i=et(e,i);for(var s=!1;;){var l=t.charAt(n);if(""===l){o.push((i+a).trim());break}if(s)")"===l&&(s=!1);else{if(","===l){n+=1,o.push((i+a).trim());break}"("===l&&(s=!0)}a+=l,n+=1}}}return o.join(", ")}(e,r):"style"===n&&r?Xe(r,nt()):"object"===t&&"data"===n&&r?et(e,r):r:et(e,r)}function ot(e,t,n){if(!e)return!1;if(e.nodeType!==e.ELEMENT_NODE)return!!n&&ot(e.parentNode,t,n);for(var r=e.classList.length;r--;){var o=e.classList[r];if(t.test(o))return!0}return!!n&&ot(e.parentNode,t,n)}function it(e,t,n){var r=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===r)return!1;if("string"==typeof t){if(r.classList.contains(t))return!0;if(r.closest(".".concat(t)))return!0}else if(ot(r,t,!0))return!0;if(n){if(r.matches(n))return!0;if(r.closest(n))return!0}return!1}function at(e,t){var n=t.doc,r=t.mirror,o=t.blockClass,i=t.blockSelector,a=t.maskTextClass,s=t.maskTextSelector,l=t.inlineStylesheet,c=t.maskInputOptions,d=void 0===c?{}:c,u=t.maskTextFn,p=t.maskInputFn,m=t.dataURLOptions,v=void 0===m?{}:m,f=t.inlineImages,h=t.recordCanvas,g=t.keepIframeSrcFn,y=t.newlyAddedElement,w=void 0!==y&&y,b=function(e,t){if(!t.hasNode(e))return;var n=t.getId(e);return 1===n?void 0:n}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:Fe.Document,childNodes:[],compatMode:e.compatMode}:{type:Fe.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Fe.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:b};case e.ELEMENT_NODE:return function(e,t){for(var n=t.doc,r=t.blockClass,o=t.blockSelector,i=t.inlineStylesheet,a=t.maskInputOptions,s=void 0===a?{}:a,l=t.maskInputFn,c=t.dataURLOptions,d=void 0===c?{}:c,u=t.inlineImages,p=t.recordCanvas,m=t.keepIframeSrcFn,v=t.newlyAddedElement,f=void 0!==v&&v,h=t.rootId,g=function(e,t,n){if("string"==typeof t){if(e.classList.contains(t))return!0}else for(var r=e.classList.length;r--;){var o=e.classList[r];if(t.test(o))return!0}return!!n&&e.matches(n)}(e,r,o),y=function(e){if(e instanceof HTMLFormElement)return"form";var t=e.tagName.toLowerCase().trim();return Ye.test(t)?"div":t}(e),w={},b=e.attributes.length,_=0;_<b;_++){var k=e.attributes[_];w[k.name]=rt(n,y,k.name,k.value)}if("link"===y&&i){var C=Array.from(n.styleSheets).find((function(t){return t.href===e.href})),x=null;C&&(x=Be(C)),x&&(delete w.rel,delete w.href,w._cssText=Xe(x,C.href))}if("style"===y&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){(x=Be(e.sheet))&&(w._cssText=Xe(x,nt()))}if("input"===y||"textarea"===y||"select"===y){var E=e.value,S=e.checked;"radio"!==w.type&&"checkbox"!==w.type&&"submit"!==w.type&&"button"!==w.type&&E?w.value=function(e){var t=e.maskInputOptions,n=e.tagName,r=e.type,o=e.value,i=e.maskInputFn,a=o||"";return(t[n.toLowerCase()]||t[r])&&(a=i?i(a):"*".repeat(a.length)),a}({type:w.type,tagName:y,value:E,maskInputOptions:s,maskInputFn:l}):S&&(w.checked=S)}"option"===y&&(e.selected&&!s.select?w.selected=!0:delete w.selected);if("canvas"===y&&p)if("2d"===e.__context)(function(e){var t=e.getContext("2d");if(!t)return!0;for(var n=0;n<e.width;n+=50)for(var r=0;r<e.height;r+=50){var o=t.getImageData,i=ze in o?o[ze]:o;if(new Uint32Array(i.call(t,n,r,Math.min(50,e.width-n),Math.min(50,e.height-r)).data.buffer).some((function(e){return 0!==e})))return!1}return!0})(e)||(w.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){var L=e.toDataURL(d.type,d.quality),T=document.createElement("canvas");T.width=e.width,T.height=e.height,L!==T.toDataURL(d.type,d.quality)&&(w.rr_dataURL=L)}if("img"===y&&u){We||(We=n.createElement("canvas"),Ve=We.getContext("2d"));var I=e,N=I.crossOrigin;I.crossOrigin="anonymous";var M=function(){try{We.width=I.naturalWidth,We.height=I.naturalHeight,Ve.drawImage(I,0,0),w.rr_dataURL=We.toDataURL(d.type,d.quality)}catch(e){console.warn("Cannot inline img src=".concat(I.currentSrc,"! Error: ").concat(e))}N?w.crossOrigin=N:I.removeAttribute("crossorigin")};I.complete&&0!==I.naturalWidth?M():I.onload=M}"audio"!==y&&"video"!==y||(w.rr_mediaState=e.paused?"paused":"played",w.rr_mediaCurrentTime=e.currentTime);f||(e.scrollLeft&&(w.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(w.rr_scrollTop=e.scrollTop));if(g){var D=e.getBoundingClientRect(),A=D.width,O=D.height;w={class:w.class,rr_width:"".concat(A,"px"),rr_height:"".concat(O,"px")}}"iframe"!==y||m(w.src)||(e.contentDocument||(w.rr_src=w.src),delete w.src);return{type:Fe.Element,tagName:y,attributes:w,childNodes:[],isSVG:tt(e)||void 0,needBlock:g,rootId:h}}(e,{doc:n,blockClass:o,blockSelector:i,inlineStylesheet:l,maskInputOptions:d,maskInputFn:p,dataURLOptions:v,inlineImages:f,recordCanvas:h,keepIframeSrcFn:g,newlyAddedElement:w,rootId:b});case e.TEXT_NODE:return function(e,t){var n,r=t.maskTextClass,o=t.maskTextSelector,i=t.maskTextFn,a=t.rootId,s=e.parentNode&&e.parentNode.tagName,l=e.textContent,c="STYLE"===s||void 0,d="SCRIPT"===s||void 0;if(c&&l){try{e.nextSibling||e.previousSibling||(null===(n=e.parentNode.sheet)||void 0===n?void 0:n.cssRules)&&(l=(u=e.parentNode.sheet).cssRules?Array.from(u.cssRules).map((function(e){return e.cssText||""})).join(""):"")}catch(t){console.warn("Cannot get CSS styles from text's parentNode. Error: ".concat(t),e)}l=Xe(l,nt())}var u;d&&(l="SCRIPT_PLACEHOLDER");!c&&!d&&l&&it(e,r,o)&&(l=i?i(l):l.replace(/[\S]/g,"*"));return{type:Fe.Text,textContent:l||"",isStyle:c,rootId:a}}(e,{maskTextClass:a,maskTextSelector:s,maskTextFn:u,rootId:b});case e.CDATA_SECTION_NODE:return{type:Fe.CDATA,textContent:"",rootId:b};case e.COMMENT_NODE:return{type:Fe.Comment,textContent:e.textContent||"",rootId:b};default:return!1}}function st(e){return void 0===e?"":e.toLowerCase()}function lt(e,t){var n,r=t.doc,o=t.mirror,i=t.blockClass,a=t.blockSelector,s=t.maskTextClass,l=t.maskTextSelector,c=t.skipChild,d=void 0!==c&&c,u=t.inlineStylesheet,p=void 0===u||u,m=t.maskInputOptions,v=void 0===m?{}:m,f=t.maskTextFn,h=t.maskInputFn,g=t.slimDOMOptions,y=t.dataURLOptions,w=void 0===y?{}:y,b=t.inlineImages,_=void 0!==b&&b,k=t.recordCanvas,C=void 0!==k&&k,x=t.onSerialize,E=t.onIframeLoad,S=t.iframeLoadTimeout,L=void 0===S?5e3:S,T=t.onStylesheetLoad,I=t.stylesheetLoadTimeout,N=void 0===I?5e3:I,M=t.keepIframeSrcFn,D=void 0===M?function(){return!1}:M,A=t.newlyAddedElement,O=void 0!==A&&A,R=t.preserveWhiteSpace,H=void 0===R||R,F=at(e,{doc:r,mirror:o,blockClass:i,blockSelector:a,maskTextClass:s,maskTextSelector:l,inlineStylesheet:p,maskInputOptions:v,maskTextFn:f,maskInputFn:h,dataURLOptions:w,inlineImages:_,recordCanvas:C,keepIframeSrcFn:D,newlyAddedElement:O});if(!F)return console.warn(e,"not serialized"),null;n=o.hasNode(e)?o.getId(e):!function(e,t){if(t.comment&&e.type===Fe.Comment)return!0;if(e.type===Fe.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&"preload"===e.attributes.rel&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&e.attributes.href.endsWith(".js")))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(st(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===st(e.attributes.name)||"icon"===st(e.attributes.rel)||"apple-touch-icon"===st(e.attributes.rel)||"shortcut icon"===st(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&st(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(st(e.attributes.property).match(/^(og|twitter|fb):/)||st(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===st(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===st(e.attributes.name)||"googlebot"===st(e.attributes.name)||"bingbot"===st(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===st(e.attributes.name)||"generator"===st(e.attributes.name)||"framework"===st(e.attributes.name)||"publisher"===st(e.attributes.name)||"progid"===st(e.attributes.name)||st(e.attributes.property).match(/^article:/)||st(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===st(e.attributes.name)||"yandex-verification"===st(e.attributes.name)||"csrf-token"===st(e.attributes.name)||"p:domain_verify"===st(e.attributes.name)||"verify-v1"===st(e.attributes.name)||"verification"===st(e.attributes.name)||"shopify-checkout-api-token"===st(e.attributes.name)))return!0}}return!1}(F,g)&&(H||F.type!==Fe.Text||F.isStyle||F.textContent.replace(/^\s+|\s+$/gm,"").length)?Pe++:qe;var j=Object.assign(F,{id:n});if(o.add(e,j),n===qe)return null;x&&x(e);var B=!d;if(j.type===Fe.Element){B=B&&!j.needBlock,delete j.needBlock;var U=e.shadowRoot;U&&je(U)&&(j.isShadowHost=!0)}if((j.type===Fe.Document||j.type===Fe.Element)&&B){g.headWhitespace&&j.type===Fe.Element&&"head"===j.tagName&&(H=!1);for(var G={doc:r,mirror:o,blockClass:i,blockSelector:a,maskTextClass:s,maskTextSelector:l,skipChild:d,inlineStylesheet:p,maskInputOptions:v,maskTextFn:f,maskInputFn:h,slimDOMOptions:g,dataURLOptions:w,inlineImages:_,recordCanvas:C,preserveWhiteSpace:H,onSerialize:x,onIframeLoad:E,iframeLoadTimeout:L,onStylesheetLoad:T,stylesheetLoadTimeout:N,keepIframeSrcFn:D},z=0,W=Array.from(e.childNodes);z<W.length;z++){(Y=lt(W[z],G))&&j.childNodes.push(Y)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(e)&&e.shadowRoot)for(var V=0,P=Array.from(e.shadowRoot.childNodes);V<P.length;V++){var Y;(Y=lt(P[V],G))&&(je(e.shadowRoot)&&(Y.isShadow=!0),j.childNodes.push(Y))}}return e.parentNode&&function(e){var t=null==e?void 0:e.host;return Boolean((null==t?void 0:t.shadowRoot)===e)}(e.parentNode)&&je(e.parentNode)&&(j.isShadow=!0),j.type===Fe.Element&&"iframe"===j.tagName&&function(e,t,n){var r=e.contentWindow;if(r){var o,i=!1;try{o=r.document.readyState}catch(e){return}if("complete"===o){var a="about:blank";if(r.location.href!==a||e.src===a||""===e.src)return setTimeout(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}else{var s=setTimeout((function(){i||(t(),i=!0)}),n);e.addEventListener("load",(function(){clearTimeout(s),i=!0,t()}))}}}(e,(function(){var t=e.contentDocument;if(t&&E){var n=lt(t,{doc:t,mirror:o,blockClass:i,blockSelector:a,maskTextClass:s,maskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:v,maskTextFn:f,maskInputFn:h,slimDOMOptions:g,dataURLOptions:w,inlineImages:_,recordCanvas:C,preserveWhiteSpace:H,onSerialize:x,onIframeLoad:E,iframeLoadTimeout:L,onStylesheetLoad:T,stylesheetLoadTimeout:N,keepIframeSrcFn:D});n&&E(e,n)}}),L),j.type===Fe.Element&&"link"===j.tagName&&"stylesheet"===j.attributes.rel&&function(e,t,n){var r,o=!1;try{r=e.sheet}catch(e){return}if(!r){var i=setTimeout((function(){o||(t(),o=!0)}),n);e.addEventListener("load",(function(){clearTimeout(i),o=!0,t()}))}}(e,(function(){if(T){var t=lt(e,{doc:r,mirror:o,blockClass:i,blockSelector:a,maskTextClass:s,maskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:v,maskTextFn:f,maskInputFn:h,slimDOMOptions:g,dataURLOptions:w,inlineImages:_,recordCanvas:C,preserveWhiteSpace:H,onSerialize:x,onIframeLoad:E,iframeLoadTimeout:L,onStylesheetLoad:T,stylesheetLoadTimeout:N,keepIframeSrcFn:D});t&&T(e,t)}}),N),j}const ct="sitebehaviour-heatmap-btn",dt="sitebehaviour-heatmap-btn";let ut="",pt=!1;const mt=()=>e(void 0,void 0,void 0,(function*(){if(pt)return;pt=!0;const t=document.getElementById(ct);if(!t)return void alert("Failed to capture SiteBehaviour Heatmap Screenshot");var n;t.innerHTML="Capturing...",yield(n=500,new Promise((e=>setTimeout(e,n))));Array.from(document.body.querySelectorAll("*")).filter((e=>e instanceof HTMLElement)).forEach((e=>{try{if("SCRIPT"===e.tagName)return;const t=be(e,{ignoreId:!1}),n=be(e,{ignoreId:!1});e.setAttribute("data-xpath",`${t} |||| ${n}`)}catch(e){return void console.error("xpath finding error",e)}}));const o=function(e,t){var n=t||{},r=n.mirror,o=void 0===r?new Ge:r,i=n.blockClass,a=void 0===i?"rr-block":i,s=n.blockSelector,l=void 0===s?null:s,c=n.maskTextClass,d=void 0===c?"rr-mask":c,u=n.maskTextSelector,p=void 0===u?null:u,m=n.inlineStylesheet,v=void 0===m||m,f=n.inlineImages,h=void 0!==f&&f,g=n.recordCanvas,y=void 0!==g&&g,w=n.maskAllInputs,b=void 0!==w&&w,_=n.maskTextFn,k=n.maskInputFn,C=n.slimDOM,x=void 0!==C&&C,E=n.dataURLOptions,S=n.preserveWhiteSpace,L=n.onSerialize,T=n.onIframeLoad,I=n.iframeLoadTimeout,N=n.onStylesheetLoad,M=n.stylesheetLoadTimeout,D=n.keepIframeSrcFn;return lt(e,{doc:e,mirror:o,blockClass:a,blockSelector:l,maskTextClass:d,maskTextSelector:p,skipChild:!1,inlineStylesheet:v,maskInputOptions:!0===b?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===b?{password:!0}:b,maskTextFn:_,maskInputFn:k,slimDOMOptions:!0===x||"all"===x?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===x,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===x?{}:x,dataURLOptions:E,inlineImages:h,recordCanvas:y,preserveWhiteSpace:S,onSerialize:L,onIframeLoad:T,iframeLoadTimeout:I,onStylesheetLoad:N,stylesheetLoadTimeout:M,keepIframeSrcFn:void 0===D?function(){return!1}:D,newlyAddedElement:!1})}(document,{inlineImages:!0,dataURLOptions:{type:"image/jpeg",quality:.1},blockClass:dt,inlineStylesheet:!0,slimDOM:{comment:!0,headFavicon:!0,headMetaAuthorship:!0,headMetaDescKeywords:!0,headMetaHttpEquiv:!0,headMetaRobots:!0,headMetaSocial:!0,script:!0,headMetaVerification:!0,headWhitespace:!0}}),i=yield(a={client_id:ut,name:"No Name",url:r(),type:window.innerWidth<1e3?"MOBILE":"DESKTOP",data:JSON.stringify({ss:o,screenWidth:window.innerWidth,screenHeight:window.innerHeight,scrollHeight:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)})},e(void 0,void 0,void 0,(function*(){try{if(!(yield fetch(W,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok)throw"Failed to send events using fetch";return!0}catch(e){return console.error("Failed to upload screenshot to SiteBehaviour:",e),!1}})));var a;t.innerHTML="Capture Screenshot",i?(alert("Successfully Capture Heatmap Screenshot"),window.location.href=G):alert("Failed to capture Heatmap Screenshot"),pt=!1}));var vt=(e,t)=>{const n=document.createElement("div");n.id=ct,n.className=dt,n.innerText="Capture Heatmap Screenshot",n.style.cssText="\n    position: fixed;\n    right: 50%;\n    bottom: 10px;\n    transform: translate(50%, 0%);\n    z-index: 999999999999 !important;\n    width: 300px;\n    height: 50px;\n    border: 2px solid #000;\n    border-radius: 5px;\n    padding: 10px;\n    text-align: center;\n    cursor: pointer;\n    background: #0a53be;\n    color: white;\n  ",ut=e,n.onclick=mt,n.onmouseover=()=>{n.style.backgroundColor="#3173cc"},n.onmouseout=()=>{n.style.backgroundColor="#0a53be"},document.body.appendChild(n)};const ft=t=>e(void 0,void 0,void 0,(function*(){var e,n,o,i,a;try{ce(t);let s="";try{s=(null===(n=null===(e=window.top)||void 0===e?void 0:e.location)||void 0===n?void 0:n.hostname)||""}catch(e){}if("offer.rezenate.design"!==s){if(window.parent!==window)return void(null===(o=window.parent)||void 0===o||o.postMessage({type:"SCRIPT_LOADED"},"*"));if(window.navigator.webdriver)return void(null===(i=window.parent)||void 0===i||i.postMessage({type:"SCRIPT_LOADED"},"*"));if(/HeadlessChrome/.test(navigator.userAgent))return void(null===(a=window.parent)||void 0===a||a.postMessage({type:"SCRIPT_LOADED"},"*"))}if("blocked"===localStorage.getItem("sitebehaviour-tracking-status"))return void console.log("SiteBehaviour tracking is blocked");window.sbVisitorCustomEvent=Me,le().then((()=>{Re(),He()})),(()=>{let e=r();V=setInterval((()=>{const t=r();t!==e&&(e=t,ke())}),1e3),document.addEventListener("click",Te,!0),document.addEventListener("input",Ne),window.addEventListener("visibilitychange",Ce,!1)})()}catch(e){console.log("Error occurred in SiteBehaviour Script: ",e)}})),ht=()=>e(void 0,void 0,void 0,(function*(){var e;window.location.href.includes("?request-sitebehaviour=block-browser")&&(localStorage.setItem("sitebehaviour-tracking-status","blocked"),window.location.href="https://web.sitebehaviour.com/a/dashboard/?sitebehaviour-message=browser-blocked");let t=(null===window||void 0===window?void 0:window.sitebehaviourTrackingSecret)||"";if(!t){const n=document.getElementById("site-behaviour-script")||document.getElementById("site-behaviour-script-v2")||document.querySelector('[src*="sitebehaviour-secret="]');if(!n)return;t=n.getAttribute("data-secret")||(null===(e=n.getAttribute("src"))||void 0===e?void 0:e.split("?sitebehaviour-secret=")[1].split("&")[0])}t?window.location.search.includes("capture-sitebehaviour-heatmap")||sessionStorage.getItem("capture-sitebehaviour-heatmap")?vt(t,"desktop"):ft(t):console.error("Secret key is missing in the script tag")}));"loading"===document.readyState?document.addEventListener("DOMContentLoaded",(()=>{ht()})):ht()}();
