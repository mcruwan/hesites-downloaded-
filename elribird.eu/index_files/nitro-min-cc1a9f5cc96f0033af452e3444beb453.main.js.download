jQuery(function(e){"use strict";var t=!e("body").hasClass("ts_desktop");setTimeout(function(){e(".ts-custom-block-content, .footer-container").removeClass("hidden")},10);e(window).on("ts_slider_middle_navigation_position",function(e,t){if(t.parents(".ts-slider.middle-thumbnail.rows-1").length||t.parents(".related").length||t.parents(".upsells").length||t.parents(".cross-sells").length){var a=t.find(".swiper-slide-active").first().find(".product-wrapper .thumbnail-wrapper, .product-wrapper > a, .article-content .thumbnail-content > a.thumbnail");var i=a.length?a.height()/2:0;if(i){t.find(".swiper-button-prev, .swiper-button-next").css("top",i)}}});var a=[[".single-product .related .products, .single-product .upsells .products, .woocommerce .cross-sells .products",null,null,{show_nav:true,auto_play:false}],[".single-post .related-posts",".content-wrapper .blogs",{breakpoints:{0:{slidesPerView:1},450:{slidesPerView:2},990:{slidesPerView:3}}},{show_nav:true}],[".single-post figure.gallery, .list-posts .post-item .gallery figure, .ts-blogs-widget .thumbnail.gallery figure",null,{autoHeight:true,simulateTouch:false,effect:"fade",spaceBetween:10,breakpoints:{0:{slidesPerView:1}}},{show_nav:true,auto_play:true}]];e.each(a,function(t,a){e(a[0]).each(function(t){var i=e(this);if(typeof a[1]!="undefined"&&a[1]!=null){var o=i.find(a[1])}else{var o=i}if(o.find("> *").length<=1){i.removeClass("loading");o.parent().removeClass("loading");return}var r="swiper-theme-"+Math.floor(Math.random()*1e4)+"-"+t;o.addClass("swiper "+r);o.find("> *").addClass("swiper-slide");o.wrapInner('<div class="swiper-wrapper"></div>');if(e("body").hasClass("rtl")){o.attr("dir","rtl")}var s={loop:true,spaceBetween:0,breakpointsBase:"container",breakpoints:{0:{slidesPerView:1},320:{slidesPerView:2},610:{slidesPerView:3},700:{slidesPerView:4},1200:{slidesPerView:5}},on:{init:function(){i.removeClass("loading");o.parent().removeClass("loading");e(window).trigger("ts_slider_middle_navigation_position",[o])},resize:function(){e(window).trigger("ts_slider_middle_navigation_position",[o])}}};if(typeof a[2]!="undefined"&&a[2]!=null){e.extend(s,a[2])}if(typeof a[3]!="undefined"&&a[3]!=null){var n=a[3];if(typeof n.show_nav!="undefined"&&n.show_nav){o.append('<div class="swiper-button-prev"></div><div class="swiper-button-next"></div>');s.navigation={prevEl:".swiper-button-prev",nextEl:".swiper-button-next"}}if(typeof n.auto_play!="undefined"&&n.auto_play){s.autoplay={delay:5e3,disableOnInteraction:false,pauseOnMouseEnter:true}}}new Swiper("."+r,s)})});ts_mega_menu_change_state();e(window).on("resize orientationchange",function(){ts_mega_menu_change_state()});e(".ts-header, #ts-mobile-button-bottom").on("mouseenter",function(){if(e(".menu-item.hide").length){e(".menu-item").removeClass("hide");ts_mega_menu_change_state()}});e(".elementor-widget-wp-widget-nav_menu .menu-item-has-children .sub-menu").before('<span class="ts-menu-drop-icon"></span>');if(t||e(window).width()<768){ts_mobile_menu_handle()}if(typeof loobek_params!="undefined"&&loobek_params.menu_overlay==1){e(".ts-header .ts-menu .main-menu > ul > li").on("mouseenter",function(){if(e(this).find(".sub-menu").length){e("body").addClass("menu-background-overlay");var t=0;var a=0;if(jQuery(".ts-store-notice").length&&!jQuery(".ts-header").hasClass("is-sticky")){a=jQuery(".ts-store-notice").outerHeight()}t+=a+(e("#wpadminbar").length?e("#wpadminbar").height():0);e(".menu-background-overlay .ts-header > .overlay").css("top",t)}}).on("mouseleave",function(){e("body").removeClass("menu-background-overlay")})}if(typeof loobek_params!="undefined"&&loobek_params.sticky_header==1){ts_sticky_menu()}e(".icon-menu-ipad-header .icon, .icon-menu-sticky-header .icon").on("click",function(){if(e(".ts-header").hasClass("menu-middle")){var t=e("header .header-middle .menu-wrapper")}else{var t=e("header .header-bottom")}if(e(this).hasClass("active")){t.css("display","")}else{t.fadeIn()}e(this).toggleClass("active");ts_mega_menu_change_state()});e(".ts-store-notice .close").on("click",function(){e(".ts-store-notice").slideUp();if(typeof Cookies!="undefined"){Cookies.set("ts_store_notice","hidden",{expires:1})}});if(typeof e.position!="undefined"&&typeof e.position.scrollbarWidth!="undefined"){document.documentElement.style.setProperty("--scrollbarWidth",e.position.scrollbarWidth()+"px")}if(e("#main-content.style-filter-sidebar").length){e(window).on("ts_set_main_content_width resize orientationchange",function(){if(e(window).width()>1200){e("#main-content").css("--maincontentWidth",e("#main-content").width()+"px")}});e(window).trigger("ts_set_main_content_width")}e(window).on("scroll",function(){if(e(this).scrollTop()>100){e("#to-top").addClass("on")}else{e("#to-top").removeClass("on")}});e("#to-top .scroll-button").on("click",function(){e("body,html").animate({scrollTop:"0px"},1e3);return false});e(document).on("click","a.quickshop",function(t){t.preventDefault();var a=e(this).data("product_id");if(a===undefined){return}var o=e("#ts-quickshop-modal");o.addClass("loading");o.find(".quickshop-content").html("");e.ajax({type:"POST",url:loobek_params.ajax_url,data:{action:"loobek_load_quickshop_content",product_id:a},success:function(t){o.find(".quickshop-content").html(t);setTimeout(function(){o.removeClass("loading").addClass("show");e("body").addClass("opening-quickshop")},o.find(".product-type-variable").length?400:100);if(o.find(".counter-wrapper").length&&typeof ts_counter=="function"){ts_counter(o.find(".counter-wrapper"))}var a=o.find(".woocommerce-product-gallery.images");if(typeof e.fn.flexslider=="function"){var r=e.extend({selector:".woocommerce-product-gallery__wrapper > .woocommerce-product-gallery__image",start:function(){a.css("opacity",1)},after:function(e){i(o.find(".woocommerce-product-gallery__image").eq(e.currentSlide),a)}},loobek_params.flexslider);a.flexslider(r);o.find(".woocommerce-product-gallery__wrapper .woocommerce-product-gallery__image:eq(0) .wp-post-image").one("load",function(){var t=e(this);if(t){setTimeout(function(){var e=t.closest(".woocommerce-product-gallery__image").height();var a=t.closest(".flex-viewport");if(e&&a){a.height(e)}},100)}}).each(function(){if(this.complete){e(this).trigger("load")}})}else{a.css("opacity",1)}i(o.find(".woocommerce-product-gallery__image").eq(0),a);a.on("woocommerce_gallery_reset_slide_position",function(){if(typeof e.fn.flexslider=="function"){a.flexslider(0)}});a.on("woocommerce_gallery_init_zoom",function(){i(o.find(".woocommerce-product-gallery__image").eq(0),a)});o.find("form.variations_form").wc_variation_form();o.find("form.variations_form .variations select").change();e("body").trigger("wc_fragments_loaded");o.find("form.variations_form").on("click",".reset_variations",function(){e(this).parents(".variations").find(".ts-product-attribute .option").removeClass("selected")})}})});function i(t,a){if(typeof e.fn.zoom!="function"){return}var i=a.width(),o=false;e(t).each(function(t,a){var r=e(a).find("img");if(r.attr("data-large_image_width")>i){o=true;return false}});if(o){var r=e.extend({touch:false},loobek_params.zoom_options);if("ontouchstart"in document.documentElement){r.on="click"}t.trigger("zoom.destroy");t.zoom(r);setTimeout(function(){if(t.find(":hover").length){t.trigger("mouseover")}},100)}}e(document).on("click",".ts-popup-modal .close, .ts-popup-modal .overlay",function(){e(".ts-popup-modal").removeClass("show");e(".ts-popup-modal .quickshop-content").html("");e("body").removeClass("opening-quickshop")});e(document).on("click",".products .product .color-swatch > div, .products .product .ts-product-galleries > div",function(){e(this).addClass("active").siblings().removeClass("active");e(this).closest(".product").find("figure img:first").attr("src",e(this).data("thumb")).removeAttr("srcset sizes");var t=e(this).data("term_id");if(typeof t!="undefined"){var a=e(this).parent().siblings(".variable-prices");var i=a.find('[data-term_id="'+t+'"]').html();e(this).closest(".product").find(".meta-wrapper .price:not(.hidden-price)").html(i).addClass("variation-price")}});function o(e){var t=e.find(".availability").data("original");var a=e.find(".availability").data("class");if(a==""){a="in-stock"}e.find(".availability .availability-text").html(t);e.find(".availability").removeClass("in-stock out-of-stock").addClass(a)}e(document).on("found_variation","form.variations_form",function(t,a){var i=e(this).parents(".summary");setTimeout(function(){if(i.find(".single_variation .stock").length){var e=i.find(".single_variation .stock").html();var t=i.find(".single_variation .stock").hasClass("out-of-stock")?"out-of-stock":"in-stock";i.find(".availability .availability-text").html(e);i.find(".availability").removeClass("in-stock out-of-stock").addClass(t)}else{o(i)}},310);if(typeof a.discount_percent!="undefined"&&a.discount_percent){i.find(".ts-discount-percent").removeClass("hidden");i.find(".ts-discount-percent span").html(a.discount_percent)}else{i.find(".ts-discount-percent").addClass("hidden")}if(typeof a.low_stock_notice!="undefined"){i.find(".ts-low-stock-notice").html(a.low_stock_notice)}});e(document).on("reset_image","form.variations_form",function(){var t=e(this).parents(".summary");o(t);t.find(".ts-discount-percent").addClass("hidden");t.find(".ts-low-stock-notice").html("")});e(document).on("change","form.variations_form .variations select",function(){var t=e(this).val();var a=t.length?e(this).find('option[value="'+t+'"]').text():"";var i=e(this).parent().siblings(".label");if(i.find(".selected-value").length){i.find(".selected-value").text(a)}else{i.append('<span class="selected-value">'+a+"</span>")}});e("form.variations_form .variations select").trigger("change");e(document).on("found_variation","form.variations_form",function(t,a){var i=e(this).parents(".summary");if(a.price_html){i.find(".ts-variation-price").html(a.price_html).removeClass("hidden");i.find("p.price").addClass("hidden")}});e(document).on("reset_image","form.variations_form",function(){var t=e(this).parents(".summary");t.find("p.price").removeClass("hidden");t.find(".ts-variation-price").addClass("hidden")});e(document).on("update_variation_values","form.variations_form",function(){if(e(this).find(".ts-product-attribute").length>0){e(this).find(".ts-product-attribute").each(function(){var t=e(this);var a=[];t.siblings("select").find("option").each(function(){if(e(this).attr("value")){a.push(e(this).attr("value"))}});t.find(".option").removeClass("hidden");t.find(".option").each(function(){if(e.inArray(e(this).attr("data-value"),a)==-1){e(this).addClass("hidden")}})})}});if(typeof loobek_params!="undefined"&&loobek_params.ajax_add_to_cart==1&&!e("body").hasClass("woocommerce-cart")){e(document).on("submit",".product:not(.product-type-external) .summary form.cart",function(t){t.preventDefault();var a=e(this);var i=a.attr("action");var o=a.serialize();if(!a.hasClass("variations_form")&&!a.hasClass("grouped_form")){o+="&add-to-cart="+a.find('[name="add-to-cart"]').val()}a.find(".single_add_to_cart_button").removeClass("added").addClass("loading");e.post(i,o,function(t){e(document.body).trigger("wc_fragment_refresh");var i=e("#ts-ajax-add-to-cart-message");var o="";t=e("<div>"+t+"</div>");if(t.find(".woocommerce-error").length){o=t.find(".woocommerce-error li:first").html()}if(t.find(".woocommerce-notices-wrapper .is-error").length){o=t.find(".woocommerce-notices-wrapper .wc-block-components-notice-banner__content:first").html()}a.find(".single_add_to_cart_button").removeClass("loading").addClass("added");i.removeClass("error");if(o){i.addClass("error");i.find(".error-message").html(o);a.find(".single_add_to_cart_button").removeClass("added")}i.addClass("show");setTimeout(function(){i.removeClass("show")},2e3)})})}e(document).on("change",".grouped-product-item-checkbox",function(){e(this).parent("label").toggleClass("checked");var t=e(this).is(":checked")?e(this).parents(".grouped_form").find("> .quantity input.qty").length?e(this).parents(".grouped_form").find("> .quantity input.qty").val():1:0;e(this).parents(".woocommerce-grouped-product-list-item").find("input.qty").val(t)});e(document).on("change",".grouped_form > .quantity input.qty",function(){var t=e(this).val();e(this).parents(".grouped_form").find(".woocommerce-grouped-product-list-item").each(function(a,i){if(e(i).find(".grouped-product-item-checkbox").is(":checked")){e(i).find("input.qty").val(t)}})});e(document).on("change",".ts-extra-products-checkbox",function(){var t=e(this).parents(".ts-extra-products-wrapper");e(this).parent("label").toggleClass("checked");var a=e(this).siblings("span");a.html(e(this).is(":checked")?a.data("checked"):a.data("unchecked"));var i=new Array;t.find(".ts-extra-products-checkbox").each(function(t,a){if(e(a).is(":checked")){i.push(e(a).val())}});t.find(".ts-extra-products-value").val(i.join(","))});e("form.woocommerce-ordering ul.orderby ul a").on("click",function(t){t.preventDefault();if(e(this).hasClass("current")){return}var a=e("form.woocommerce-ordering");var i=e(this).attr("data-orderby");a.find("select.orderby").val(i).trigger("change")});e("form.product-per-page-form ul.perpage ul a").on("click",function(t){t.preventDefault();if(e(this).hasClass("current")){return}var a=e("form.product-per-page-form");var i=e(this).attr("data-perpage");a.find("select.perpage").val(i);a.submit()});e(".ts-sidebar .widget-title-wrapper a.block-control, .style-filter-popup .filter-widget-area .widget-title-wrapper a.block-control").on("click",function(t){t.preventDefault();e(this).toggleClass("active");e(this).parent().siblings(":not(script)").toggleClass("active")});e(window).on("ts_set_top_shop_elements",function(){var t=0;t+=e(".header-sticky.is-sticky").length?e(".header-sticky.is-sticky").height():0;t+=e("#wpadminbar").length?e("#wpadminbar").height():0;if(e(window).width()<768&&e(".before-loop-wrapper").length){e(".before-loop-wrapper").css("top",t)}if(e(window).width()>1200&&e("div.product.summary-scrolling:not(.thumbnail-layout-slider-3-col)").length){t+=30;e(".product-images-summary .summary, .bought-together-layout-vertical div.yith-wfbt-section").css("top",t)}});e(".woocommerce-ordering li .orderby-current, .product-per-page-form li .perpage-current").on("click",function(t){e(this).siblings(".dropdown").fadeToggle(200);e(this).toggleClass("active");e(this).parent().parent().toggleClass("active");var a=e(this).hasClass("orderby-current")?"perpage":"orderby";r(a)});function r(t){if(t=="orderby"){var a=e(".woocommerce-ordering li .orderby-current")}else if(t=="perpage"){var a=e(".product-per-page-form li .perpage-current")}else{var a=e(".woocommerce-ordering li .orderby-current, .product-per-page-form li .perpage-current")}a.siblings(".dropdown").fadeOut(200);a.removeClass("active");a.parent().parent().removeClass("active")}function s(t){if(t.parents(".swiper").length&&!t.parents(".swiper.lazy-recalc-nav-pos").length&&t.parents(".swiper-slide-active").length){t.parents(".swiper").addClass("lazy-recalc-nav-pos");e(window).trigger("ts_slider_middle_navigation_position",[t.parents(".swiper")]);t.on("load",function(){e(window).trigger("ts_slider_middle_navigation_position",[t.parents(".swiper")])})}}if(e("img.ts-lazy-load").length){e(window).on("scroll ts_lazy_load",function(){var t=e(this).scrollTop();var a=e(this).height();e("img.ts-lazy-load:not(.loaded)").each(function(){if(e(this).data("src")&&e(this).offset().top<t+a+900){e(this).attr("src",e(this).data("src")).addClass("loaded");s(e(this))}})});if(e("img.ts-lazy-load:first").offset().top<e(window).scrollTop()+e(window).height()+200){e(window).trigger("ts_lazy_load")}}e(document).on("click",".plus, .minus",function(){var t=e(this).closest(".quantity").find(".qty"),a=parseFloat(t.val()),i=parseFloat(t.attr("max")),o=parseFloat(t.attr("min")),r=t.attr("step");if(!a||a===""||a==="NaN")a=0;if(i===""||i==="NaN")i="";if(o===""||o==="NaN")o=0;if(r==="any"||r===""||r===undefined||parseFloat(r)==="NaN")r=1;if(e(this).is(".plus")){if(i&&(i==a||a>i)){t.val(i)}else{t.val(a+parseFloat(r))}}else{if(o&&(o==a||a<o)){t.val(o)}else if(a>0){t.val(a-parseFloat(r))}}t.trigger("change")});if(typeof loobek_params!="undefined"&&loobek_params.ajax_search==1){ts_ajax_search()}e(document).on("click",".search-button .icon",function(){var t=e(this).hasClass("active");setTimeout(function(){e('#ts-search-sidebar input[name="s"]').focus()},600);if(t){e(this).removeClass("active");e("#ts-search-sidebar").removeClass("active");e("body").removeClass("floating-sidebar-active")}else{e(".ts-mobile-icon-toggle .icon, #group-icon-header, #ts-shopping-cart-sidebar, .shopping-cart-wrapper .cart-control, .account-link .icon-toggle, .ts-tiny-account-wrapper, #main-content, .filter-widget-area-button, #ts-filter-widget-area, .ts-sidebar").removeClass("active");e(this).addClass("active");e("#ts-search-sidebar").addClass("active");ts_mobile_group_button_handle()}});e(document).on("click",".account-link .icon-toggle",function(){var t=e(this).hasClass("active");if(t){e(this).removeClass("active");e(".ts-tiny-account-wrapper").removeClass("active");e("body").removeClass("floating-sidebar-active")}else{e(".ts-mobile-icon-toggle .icon, #group-icon-header, .search-button .icon, #ts-search-sidebar, #ts-shopping-cart-sidebar, .shopping-cart-wrapper .cart-control, #main-content, .filter-widget-area-button, #ts-filter-widget-area, .ts-sidebar").removeClass("active");e(this).addClass("active");e(".ts-tiny-account-wrapper").addClass("active");ts_mobile_group_button_handle()}});if(e("#ts-shopping-cart-sidebar").length){e(document).on("click",".shopping-cart-wrapper .cart-control",function(t){t.preventDefault();var a=e(this).hasClass("active");if(a){e(this).removeClass("active");e("#ts-shopping-cart-sidebar").removeClass("active");e("body").removeClass("floating-sidebar-active")}else{e(".ts-mobile-icon-toggle .icon, #group-icon-header, .search-button .icon, #ts-search-sidebar, .account-link .icon-toggle, .ts-tiny-account-wrapper, #main-content, .filter-widget-area-button, #ts-filter-widget-area, .ts-sidebar").removeClass("active");e(this).addClass("active");e("#ts-shopping-cart-sidebar").addClass("active");ts_mobile_group_button_handle()}})}e(".ts-floating-sidebar .overlay, .ts-floating-sidebar .close").on("click",function(){e(".ts-mobile-icon-toggle .icon, #group-icon-header, .search-button .icon, #ts-search-sidebar, #ts-shopping-cart-sidebar, .shopping-cart-wrapper .cart-control, .account-link .icon-toggle, .ts-tiny-account-wrapper, #main-content, .filter-widget-area-button, #ts-filter-widget-area, .ts-sidebar").removeClass("active");e("body").removeClass("floating-sidebar-active")});if(!e("body").hasClass("woocommerce-cart")){e(document.body).on("added_to_cart",function(t,a,i,o){if(typeof loobek_params!="undefined"&&loobek_params.show_cart_after_adding==1){e(".shopping-cart-wrapper .cart-control").trigger("click");return}if(typeof loobek_params!="undefined"&&typeof o!="undefined"){if(loobek_params.add_to_cart_effect=="fly_to_cart"){var r=e(".shopping-cart-wrapper");if(r.length==2){if(e(window).width()>767){r=e(".shopping-cart-wrapper:not(.mobile-cart)")}else{r=e(".shopping-cart-wrapper.mobile-cart")}}if(r.length==1&&r.offset().left){var s=o.closest("section.product").find("figure img").eq(0);if(s.length==1){var n=800;var c=e(".is-sticky .shopping-cart-wrapper").length;if(c){n=500}var l=s.width()?150*s.height()/s.width():150;var d=s.width()?50*s.height()/s.width():50;var u=s.clone().offset({top:s.offset().top,left:s.offset().left}).css({"opacity":"0.6","position":"absolute","height":l+"px","width":"150px","z-index":"99999999"}).appendTo(e("body")).animate({"top":r.offset().top+r.height()/2,"left":r.offset().left+r.width()/2,"width":50,"height":d},n,"linear");if(!c){e("body,html").animate({scrollTop:"0px"},n)}u.animate({"width":0,"height":0},function(){e(this).detach()})}}}if(loobek_params.add_to_cart_effect=="show_popup"&&wc_add_to_cart_params.cart_redirect_after_add=="no"){var p=o.attr("data-product_id");var m=e("#ts-add-to-cart-popup-modal");m.addClass("loading");e.ajax({type:"POST",url:loobek_params.ajax_url,data:{action:"loobek_load_product_added_to_cart",product_id:p},success:function(e){m.find(".add-to-cart-popup-content").html(e);m.removeClass("loading").addClass("show")}})}}})}e(document.body).on("click",".shopping-cart-wrapper .remove_from_cart_button",function(){e(".shopping-cart-wrapper:not(.mobile-cart)").addClass("updating")});e(document.body).on("removed_from_cart",function(){if(!e(".shopping-cart-wrapper:not(.mobile-cart)").is(":hover")){e(".shopping-cart-wrapper").removeClass("updating")}});e(document).on("change",".ts-tiny-cart-wrapper .qty",function(){var t=parseFloat(e(this).val());var a=parseFloat(e(this).attr("max"));if(a!=="NaN"&&a<t){t=a;e(this).val(a)}var i=e(this).attr("name").replace("cart[","").replace("][qty]","");e(this).parents(".woocommerce-mini-cart-item").addClass("loading");e(".shopping-cart-wrapper:not(.mobile-cart)").addClass("updating");e(".woocommerce-message").remove();e.ajax({type:"POST",url:loobek_params.ajax_url,data:{action:"loobek_update_cart_quantity",qty:t,cart_item_key:i},success:function(t){if(!t){return}e(document.body).trigger("added_to_cart",[t.fragments,t.cart_hash]);if(!e(".shopping-cart-wrapper:not(.mobile-cart)").is(":hover")){e(".shopping-cart-wrapper").removeClass("updating")}}})});e(document).on("mouseleave",".shopping-cart-wrapper.updating",function(){e(this).removeClass("updating")});e(".filter-widget-area-button a").on("click",function(){e(".filter-widget-area-button, #ts-filter-widget-area, .ts-sidebar, #main-content").toggleClass("active");ts_mobile_group_button_handle();r("both");return false});e(".ts-sidebar aside > .close").on("click",function(){e("body").removeClass("floating-sidebar-active");e(".filter-widget-area-button, .ts-sidebar, #main-content").removeClass("active");return false});e(".ts-product-columns-selector span").on("click",function(){var t=e(this).data("class");e(this).addClass("selected").siblings().removeClass("selected");e("#main-content .woocommerce.main-products").removeClass("columns-1 columns-2 columns-3 columns-4 columns-5 big-thumbnail").addClass(t)});e(document).on("change",'.products .product input[name="quantity"]',function(){var t=e(this).parents(".product").find(".add_to_cart_button");var a=parseInt(e(this).val());t.attr("data-quantity",a);var i="?add-to-cart="+t.eq(0).attr("data-product_id")+"&quantity="+a;t.attr("href",i)});e('.product-on-sale-form input[type="checkbox"]').on("change",function(){e(this).parents("form").submit()});e(document).on("click",".variations_form .ts-product-attribute .option a",function(){var t=e(this);var a=t.closest(".option").data("value");var i=t.closest(".ts-product-attribute").siblings("select");if(i.length>0){if(i.find('option[value="'+a+'"]').length>0){i.val(a).change();t.closest(".ts-product-attribute").find(".option").removeClass("selected");t.closest(".option").addClass("selected")}}return false});e(".variations_form").on("click",".reset_variations",function(){e(this).closest(".variations").find(".ts-product-attribute .option").removeClass("selected")})});var ts_mega_menu_timeout=0;function ts_mega_menu_change_state(){if(Math.max(window.outerWidth,jQuery(window).width())>767){clearTimeout(ts_mega_menu_timeout);ts_mega_menu_timeout=setTimeout(function(){var e=0,t=0;var a=jQuery(".header-middle .container:first");var i=jQuery(".header-sticky");if(a.length<=0){a=jQuery(".header-sticky");if(a.length<=0){return}t=a.outerWidth()}else{t=a.width();e=parseInt(a.css("padding-left"))}var o=a.offset();var r=i.outerWidth();var s=i.offset();jQuery(".ts-menu nav.main-menu > ul.menu > .ts-megamenu-fullwidth").each(function(a,i){var n=jQuery(i).offset();if(jQuery(i).hasClass("ts-megamenu-fullwidth-stretch")){var c=n.left-s.left;jQuery(i).children("ul.sub-menu").css({"width":r+"px","left":-c+"px","right":"auto"})}else{var c=n.left-o.left-e;jQuery(i).children("ul.sub-menu").css({"width":t+"px","left":-c+"px","right":"auto"})}});jQuery(".ts-menu nav.main-menu > ul.menu").children(".ts-megamenu-columns-1, .ts-megamenu-columns-2, .ts-megamenu-columns-3, .ts-megamenu-columns-4").each(function(a,i){jQuery(i).children("ul.sub-menu").css({"max-width":t+"px"});var r=jQuery(i).children("ul.sub-menu").outerWidth();var s=jQuery(i).outerWidth();jQuery(i).children("ul.sub-menu").css({"left":"-"+(r/2-s/2)+"px","right":"auto"});var n=o.left;var c=n+t;var l=jQuery(i).offset().left;var d=r/2>l+s/2-n;var u=r/2+l+s/2>c;if(d){var p=l-n-e;jQuery(i).children("ul.sub-menu").css({"left":-p+"px","right":"auto"})}if(u&&!d){var p=l-n-e;p=p-(t-r);jQuery(i).children("ul.sub-menu").css({"left":-p+"px","right":"auto"})}})},100)}else{jQuery("#wpadminbar").css("position","fixed")}}function ts_mobile_group_button_handle(){if(jQuery(window).width()<768){var e=jQuery(".ts-store-notice").length&&!jQuery(".ts-header.is-sticky").length?jQuery(".ts-store-notice").outerHeight():0;var t=jQuery("#wpadminbar").length?jQuery("#wpadminbar").height():0;var a=jQuery(".header-template").outerHeight();var i=jQuery("#ts-mobile-button-bottom").length?jQuery("#ts-mobile-button-bottom").outerHeight():0;var o=e+t+a;jQuery("body").removeClass("body-fixed");jQuery("body").addClass("floating-sidebar-active");if(!jQuery(".ts-header").hasClass("is-sticky")){jQuery("body").addClass("body-fixed")}jQuery("#ts-search-sidebar .ts-sidebar-content, #ts-shopping-cart-sidebar .ts-sidebar-content, #group-icon-header, .ts-tiny-account-wrapper .dropdown-container").css({"top":o,"bottom":i});if(jQuery("#main-content").hasClass("active")){var r=jQuery(".sticky-wrapper .header-template").length?o:t;jQuery(".ts-sidebar, #ts-filter-widget-area .ts-sidebar-content").css("top",r)}}}function ts_mobile_menu_handle(){jQuery(".ts-mobile-icon-toggle .icon").on("click",function(){var e=jQuery(this).hasClass("active");if(e){jQuery(this).removeClass("active");jQuery("body").removeClass("floating-sidebar-active");jQuery("#group-icon-header").removeClass("active")}else{jQuery(".search-button .icon, #ts-search-sidebar, #ts-shopping-cart-sidebar, .shopping-cart-wrapper .cart-control, .account-link .icon-toggle, .ts-tiny-account-wrapper, #main-content, .filter-widget-area-button, #ts-filter-widget-area, .ts-sidebar").removeClass("active");jQuery(this).addClass("active");jQuery("#group-icon-header").addClass("active");ts_mobile_group_button_handle()}});jQuery(".ts-menu nav.main-menu .ts-menu-drop-icon").on("click",function(){var e=jQuery(this).hasClass("active");var t=jQuery(this).siblings(".sub-menu");jQuery(".ts-menu nav.main-menu .ts-menu-drop-icon").removeClass("active");jQuery(".ts-menu nav.main-menu .sub-menu").hide();jQuery(this).parents(".sub-menu").show();jQuery(this).parents(".sub-menu").siblings(".ts-menu-drop-icon").addClass("active");if(t.length>0){if(e){t.fadeOut(250);jQuery(this).removeClass("active")}else{t.fadeIn(250);jQuery(this).addClass("active")}}});if(jQuery(".ts-menu nav .ts-menu-drop-icon").length>0){jQuery(".ts-menu nav .sub-menu").hide()}jQuery(".ts-menu.mobile-menu-wrapper .ts-menu-drop-icon").on("click",function(){var e=jQuery(this).hasClass("active");var t=jQuery(this).siblings(".sub-menu");var a=jQuery(this).parent();var i=jQuery(this).closest(".sub-menu");jQuery("#group-icon-header").addClass("not-first-level");t.css("top",jQuery("#group-icon-header .menu-title").outerHeight());if(e){if(i.length){var o=i.css("z-index");o=parseInt(o)-1;i.css("z-index",o);i.css("overflow","auto")}else{jQuery("#group-icon-header .mobile-menu-wrapper").css("overflow","auto")}t.find(".ts-menu-drop-icon").removeClass("active");a.removeClass("active");jQuery(this).removeClass("active");if(i.length==0){jQuery("#group-icon-header").removeClass("not-first-level")}else{if(i.siblings("a").find(".menu-label").length){var r=i.siblings("a").find(".menu-label").text()}else{var r=i.siblings("a").text()}}jQuery("#group-icon-header .menu-title span").text(r)}else{if(i.length){var o=i.css("z-index");o=parseInt(o)+1;i.css("z-index",o);i.css("overflow","hidden")}else{jQuery("#group-icon-header .mobile-menu-wrapper").scrollTop(0);jQuery("#group-icon-header .mobile-menu-wrapper").css("overflow","hidden")}jQuery(this).css("top",parseInt(jQuery("#group-icon-header .logo-wrapper").outerHeight()));a.addClass("active");jQuery(this).addClass("active");if(a.find("> a .menu-label").length){var s=a.find("> a .menu-label").text()}else{var s=a.find("> a").text()}jQuery("#group-icon-header .menu-title span").text(s)}})}function ts_sticky_menu(){var e=jQuery("header.ts-header").length?jQuery("header.ts-header").height():0;e+=jQuery(window).width()>767&&jQuery(".ts-store-notice").length?jQuery(".ts-store-notice").outerHeight():0;var t=jQuery(".main-menu > ul > li > ul.sub-menu");setTimeout(function(){jQuery(".header-sticky").mysticky({topBegin:e,scrollOnTop:function(){ts_mega_menu_change_state();t.css("display","none").siblings(".ts-menu-drop-icon").removeClass("active");setTimeout(function(){t.css("display","")},500);jQuery(window).trigger("ts_set_top_shop_elements")},scrollOnBottom:function(){ts_mega_menu_change_state();t.css("display","none").siblings(".ts-menu-drop-icon").removeClass("active");setTimeout(function(){t.css("display","")},500);jQuery(window).trigger("ts_set_top_shop_elements")}})},200)}function ts_ajax_search(){var e="";var t="";var a;var i=700;var o;var r={};jQuery("body").append('<div id="ts-search-result-container" class="ts-search-result-container woocommerce"></div>');var s=jQuery("#ts-search-result-container");var n=jQuery("#ts-search-sidebar .ts-search-result-container");var c=jQuery(".ts-header .search-wrapper");var l=false;jQuery('.ts-header .search-content input[name="s"], #ts-search-sidebar input[name="s"]').on("keyup",function(d){l=jQuery(this).parents("#ts-search-sidebar").length>0;o=jQuery(this);s.hide();c.removeClass("active");e=jQuery(this).val().trim();if(e.length<2){o.parents(".search-content").removeClass("loading");return}if(r[e]){if(!l){s.html(r[e]);s.fadeIn(200);c.addClass("active")}else{n.html(r[e])}t="";o.parents(".search-content").removeClass("loading");return}clearTimeout(a);a=setTimeout(function(){if(e==t||e.length<2){return}t=e;o.parents(".search-content").addClass("loading");jQuery.ajax({type:"POST",url:loobek_params.ajax_url,data:{action:"loobek_ajax_search",search_string:e,security:loobek_params.search_nonce},error:function(e,t){o.parents(".search-content").removeClass("loading")},success:function(t){if(t!=""){t=JSON.parse(t);if(t.search_string==e){r[e]=t.html;if(!l){s.html(t.html);var a=o.offset().top+o.outerHeight(true);var i=Math.ceil(o.offset().left);var d=o.outerWidth(true);var u=parseInt(o.parent(".search-content").css("border-left-width"));var p=jQuery(window).width();i-=u;d+=u;if(d<330&&p>420){d=330}if(i+d>p){i-=d-o.outerWidth(true)}s.css({"position":"absolute","top":a,"left":i,"width":d}).fadeIn(200);c.addClass("active")}else{n.siblings(".popular-searches").hide();n.html(t.html)}o.parents(".search-content").removeClass("loading")}}else{o.parents(".search-content").removeClass("loading")}}})},i)});jQuery(document).on("click",".search-content .view-all-wrapper a",function(e){e.preventDefault();o.parents("form").submit()});s.on("mouseleave",function(){s.hide();c.removeClass("active")});jQuery("body").on("click",function(){s.hide();c.removeClass("active")});jQuery(window).on("orientationchange",function(){t="";r={};s.hide();c.removeClass("active")})}